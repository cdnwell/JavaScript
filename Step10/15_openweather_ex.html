<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
        $(function () {
            $('#request').click(function () {
                var id = '1835847';
                var appid = 'cb9ff9ef1004eaeeef7a70d436d28bcb';
                $.ajax({
                    url: `https://api.openweathermap.org/data/2.5/weather?id=${id}&appid=${appid}`,
                    type: "get",
                    dataType: "json",
                    success: function (r) {
                        console.log(JSON.stringify(r));
                        var curCel = r.main.temp - 273.15;      //현재 온도 main.temp
                        curCel = curCel.toFixed(2);
                        var maxCel = r.main.temp_max - 273.15;  //최고 온도 main.temp_max
                        maxCel = maxCel.toFixed(2);
                        var minCel = r.main.temp_min - 273.15;  //최저 온도 main.temp_min
                        minCel = minCel.toFixed(2);
                        var wind = r.wind.speed;                //바람 세기 wind.speed
                        $('#result').append(`<div>도시명 : ${r.name}<div>`);
                        $('#result').append(`<div>현재 날씨 : ${r.weather[0].main}<div>`);
                        $('#result').append(`<div>현재 온도 : ${curCel}℃<div>`);
                        $('#result').append(`<div>최고 온도 : ${maxCel}℃<div>`);
                        $('#result').append(`<div>최저 온도 : ${minCel}℃<div>`);
                        $('#result').append(`<div>바람 세기 : ${wind}m/sec<div>`);
                    },
                });
            });
        });
    </script>

</head>

<body>
    <button id="request">날씨 정보 요청</button>
    <div id="result"></div>
    <div id="openweathermap-widget-15"></div>
    <script>window.myWidgetParam ? window.myWidgetParam : window.myWidgetParam = []; window.myWidgetParam.push({ id: 15, cityid: '1835848', appid: 'cb9ff9ef1004eaeeef7a70d436d28bcb', units: 'metric', containerid: 'openweathermap-widget-15', }); (function () { var script = document.createElement('script'); script.async = true; script.charset = "utf-8"; script.src = "//openweathermap.org/themes/openweathermap/assets/vendor/owm/js/weather-widget-generator.js"; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s); })();</script>
</body>

</html>